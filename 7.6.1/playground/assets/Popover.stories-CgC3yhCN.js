import{j as o,T as f,r as c}from"./iframe-CdtcRMP-.js";import{D as S}from"./constants-DdkjnEgz.js";import{g as w}from"./mock-BznupqUM.js";import{c as W}from"./createStoryParameters-CcwS40kl.js";import{A}from"./Avatar-BXKCkIBT.js";import{B as e}from"./Button-BpUWCXRP.js";import{C as d}from"./CellButton-CbRv9eWJ.js";import{C as D}from"./Checkbox-D9OYtU9h.js";import{D as s}from"./Div-D8ye_oIP.js";import{F as u}from"./Flex-DP1hTtp-.js";import{F as n}from"./FormItem-Dl7AVDtc.js";import{F as G}from"./FormLayoutGroup-CM-qGDQV.js";import{G as O}from"./Group-BPDDF8j8.js";import{I as E}from"./IconButton-rnOj30v2.js";import{I as g}from"./Input-BOEGrA49.js";import{P as t}from"./Popover-D5qo0P4P.js";import{I as R}from"./add_outline_28-DRuVVd39.js";import{I as M}from"./delete_outline_28-DkhTC0j8.js";import{I as _}from"./clear_16-B2C3Rrhp.js";import"./preload-helper-Dp1pzeXC.js";import"./ImageBase-BuKB8O3U.js";import"./Clickable-nnjkiOyK.js";import"./useFocusVisibleClassName-r8X4bE31.js";import"./mergeCalls-Bc-HqyI0.js";import"./callMultiple-ChqatQlo.js";import"./type_checkers-CVMjkZjG.js";import"./ImageBaseBadge-ClYqcA4W.js";import"./useColorScheme-Bqwp8l3s.js";import"./InputUtils-4kqGTgL9.js";import"./useFocusWithin-CnBAXQ2U.js";import"./useIsClient-B7bjAOfN.js";import"./useConfigDirection-I0bRjt3K.js";import"./online_mobile_12--qRJFinP.js";import"./SvgIconRootV2-CcgDj6WP.js";import"./_object_spread_props-DRD4qu7p.js";import"./helpers-QklJbEbU.js";import"./react_utils-CSZjvU4X.js";import"./Spinner-C-2OzDn_.js";import"./animationVisibilityDelay.module-DjZYURHD.js";import"./VisuallyHidden-CtlI0uOO.js";import"./Tappable-znRvcKvt.js";import"./SimpleCell-DSOj1jKk.js";import"./Footnote-UnTPOYYT.js";import"./Headline-BNe6tvfn.js";import"./Subhead-DKX6pZDk.js";import"./chevron_compact_right_24-lHFnU4Rs.js";import"./chevron_16-cxMQw6Cg.js";import"./SelectionControl-CJ-IlJuM.js";import"./check_box_on_24-BiPwgksd.js";import"./check_box_indetermanate_20-CxvTqOSo.js";import"./gaps-BRHZAyUc.js";import"./Removable-nQuC3wCX.js";import"./children-BpYEnGqU.js";import"./useGlobalEventListener-enXvR1yE.js";import"./useEventListener-CidaaUBr.js";import"./cancel_24-DMLedojc.js";import"./FormItemTopLabel-CY1USPN-.js";import"./FormField-DzT87oDI.js";import"./UnstyledTextField-Ci_oktW-.js";import"./useFloatingElement-DrMXol6P.js";import"./usePatchChildren-DQt_5Ro5.js";import"./warnOnce-BsOPdcXO.js";import"./useReferenceHiddenChangeCallback-JE-hnu_T.js";import"./useGlobalEscKeyDown-BITr0cgo.js";import"./usePlacementChangeCallback-BB0AFdrs.js";import"./floating-ui.react-dom-Dfkb5x82.js";import"./debounce-2Cr6Hz2O.js";import"./useEnsuredControl-D2ifizI6.js";import"./useGlobalOnClickOutside-CDT8utyH.js";import"./AppRootPortal-BFk_fNEt.js";import"./createPortal-DFnZY35-.js";import"./ColorSchemeProvider-DeJkjfVG.js";import"./ConfigProviderOverride--tQEj98o.js";import"./FloatingArrow-BleoPFqO.js";import"./FocusTrap-RDi_VQaF.js";import"./useFocusTrap-CvctiW_B.js";import"./useMutationObserver-BRkrCep6.js";const me={title:"Modals/Popover",component:t,parameters:W("Popover",S),tags:["Модальные окна"]},a={render:p=>o.jsx(t,{trigger:"hover",placement:"bottom",role:"tooltip","aria-describedby":"tooltip-1",content:o.jsx(s,{children:o.jsx(f,{children:"Привет"})}),...p,children:o.jsx(e,{id:"tooltip-1",mode:"outline",children:"Наведи на меня"})})},l={render:function(){const P=()=>o.jsx(t,{trigger:"hover",placement:"bottom",role:"tooltip","aria-describedby":"tooltip-1",content:o.jsx(s,{children:o.jsx(f,{children:"Привет"})}),children:o.jsx(e,{id:"tooltip-1",mode:"outline",children:"Наведи на меня"})}),k=()=>o.jsx(t,{noStyling:!0,trigger:"click",id:"menupopup",role:"dialog","aria-labelledby":"menubutton",content:({onClose:r})=>o.jsxs(O,{children:[o.jsx(d,{role:"menuitem",before:o.jsx(R,{}),onClick:r,children:"Добавить"}),o.jsx(d,{role:"menuitem",before:o.jsx(M,{}),appearance:"negative",onClick:r,children:"Удалить"})]}),children:o.jsx(e,{id:"menubutton","aria-controls":"menupopup",mode:"outline",children:"Нажми на меня"})}),y=()=>o.jsx(t,{trigger:"focus",role:"dialog","aria-describedby":"dialog-2",content:({onClose:r})=>o.jsxs(G,{children:[o.jsx(n,{top:"Имя",children:o.jsx(g,{})}),o.jsx(n,{top:"Фамилия",children:o.jsx(g,{})}),o.jsx(n,{top:"Соглашение",children:o.jsx(D,{name:"agreement",children:"Согласен"})}),o.jsx(n,{children:o.jsx(e,{onClick:r,children:"Отправить"})})]}),children:o.jsx(e,{id:"dialog-2",mode:"outline",children:"Сфокусируйся на меня через Tab (или клик)"})}),I=()=>o.jsx(t,{trigger:["click","hover","focus"],placement:"right",role:"tooltip","aria-describedby":"tooltip-3",content:o.jsx(s,{children:o.jsx(A,{src:w("app_promokot"),alt:"Cat"})}),children:o.jsx(e,{id:"tooltip-3",mode:"outline",children:"Нажми или наведи или сфокусируйся на меня"})}),T=()=>{const[r,m]=c.useState(!1),B=c.useCallback((i,F)=>{if(!i)switch(F){case"callback":case"escape-key":case"click-outside":m(!1);break}},[]);return o.jsx(t,{trigger:"manual",shown:r,role:"dialog","aria-describedby":"dialog-3",content:({onClose:i})=>o.jsxs(u,{style:{position:"relative",width:180,height:100},children:[o.jsx("div",{style:{position:"absolute",top:0,right:0},children:o.jsx(E,{"aria-label":"Close dialog",onClick:i,children:o.jsx(_,{})})}),o.jsxs("div",{style:{margin:"auto",textAlign:"center"},children:["The cake",o.jsx("br",{}),"is",o.jsx("br",{}),"a lie"]})]}),onShownChange:B,children:o.jsx(e,{id:"dialog-3",onClick:()=>m(i=>!i),children:"Я переключаю состояние через useState"})})};return o.jsxs(u,{margin:"auto",direction:"column",align:"start",gap:"2xl",children:[o.jsx(P,{}),o.jsx(k,{}),o.jsx(y,{}),o.jsx(I,{}),o.jsx(T,{})]})}};var h,x,v;a.parameters={...a.parameters,docs:{...(h=a.parameters)==null?void 0:h.docs,source:{originalSource:`{
  render: args => <Popover trigger="hover" placement="bottom" role="tooltip" aria-describedby="tooltip-1" content={<Div>
          <Text>Привет</Text>
        </Div>} {...args}>
      <Button id="tooltip-1" mode="outline">
        Наведи на меня
      </Button>
    </Popover>
}`,...(v=(x=a.parameters)==null?void 0:x.docs)==null?void 0:v.source}}};var b,j,C;l.parameters={...l.parameters,docs:{...(b=l.parameters)==null?void 0:b.docs,source:{originalSource:`{
  render: function Render() {
    const PopoverWithTriggerHover = () => {
      return <Popover trigger="hover" placement="bottom" role="tooltip" aria-describedby="tooltip-1" content={<Div>
              <Text>Привет</Text>
            </Div>}>
          <Button id="tooltip-1" mode="outline">
            Наведи на меня
          </Button>
        </Popover>;
    };
    const PopoverWithTriggerClick = () => {
      return <Popover noStyling trigger="click" id="menupopup" role="dialog" aria-labelledby="menubutton" content={({
        onClose
      }) => <Group>
              <CellButton role="menuitem" before={<Icon28AddOutline />} onClick={onClose}>
                Добавить
              </CellButton>
              <CellButton role="menuitem" before={<Icon28DeleteOutline />} appearance="negative" onClick={onClose}>
                Удалить
              </CellButton>
            </Group>}>
          <Button id="menubutton" aria-controls="menupopup" mode="outline">
            Нажми на меня
          </Button>
        </Popover>;
    };
    const PopoverWithTriggerFocus = () => {
      return <Popover trigger="focus" role="dialog" aria-describedby="dialog-2" content={({
        onClose
      }) => <FormLayoutGroup>
              <FormItem top="Имя">
                <Input />
              </FormItem>
              <FormItem top="Фамилия">
                <Input />
              </FormItem>
              <FormItem top="Соглашение">
                <Checkbox name="agreement">Согласен</Checkbox>
              </FormItem>
              <FormItem>
                <Button onClick={onClose}>Отправить</Button>
              </FormItem>
            </FormLayoutGroup>}>
          <Button id="dialog-2" mode="outline">
            Сфокусируйся на меня через Tab (или клик)
          </Button>
        </Popover>;
    };
    const PopoverWithAllTriggers = () => {
      return <Popover trigger={['click', 'hover', 'focus']} placement="right" role="tooltip" aria-describedby="tooltip-3" content={<Div>
              <Avatar src={getAvatarUrl('app_promokot')} alt="Cat" />
            </Div>}>
          <Button id="tooltip-3" mode="outline">
            Нажми или наведи или сфокусируйся на меня
          </Button>
        </Popover>;
    };
    const PopoverWithTriggerManual = () => {
      const [shown, setShown] = React.useState(false);
      const handleShownChange: PopoverOnShownChange = React.useCallback((value, reason) => {
        if (!value) {
          switch (reason) {
            case 'callback':
            case 'escape-key':
            case 'click-outside':
              setShown(false);
              break;
            default:
              break;
          }
        }
      }, []);
      return <Popover trigger="manual" shown={shown} role="dialog" aria-describedby="dialog-3" content={({
        onClose
      }) => <Flex style={{
        position: 'relative',
        width: 180,
        height: 100
      }}>
              <div style={{
          position: 'absolute',
          top: 0,
          right: 0
        }}>
                <IconButton aria-label="Close dialog" onClick={onClose}>
                  <Icon16Clear />
                </IconButton>
              </div>
              <div style={{
          margin: 'auto',
          textAlign: 'center'
        }}>
                The cake
                <br />
                is
                <br />a lie
              </div>
            </Flex>} onShownChange={handleShownChange}>
          <Button id="dialog-3" onClick={() => setShown(prev => !prev)}>
            Я переключаю состояние через useState
          </Button>
        </Popover>;
    };
    return <Flex margin="auto" direction="column" align="start" gap="2xl">
        <PopoverWithTriggerHover />
        <PopoverWithTriggerClick />
        <PopoverWithTriggerFocus />
        <PopoverWithAllTriggers />
        <PopoverWithTriggerManual />
      </Flex>;
  }
}`,...(C=(j=l.parameters)==null?void 0:j.docs)==null?void 0:C.source}}};const ce=["Playground","Example"];export{l as Example,a as Playground,ce as __namedExportsOrder,me as default};
